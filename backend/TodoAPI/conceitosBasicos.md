# üìö Conceitos B√°sicos para Entender a TodoAPI

Este documento explica os conceitos fundamentais que voc√™ precisa saber antes de seguir o tutorial da TodoAPI.

## üéØ √çndice

- [O que √© uma API?](#-o-que-√©-uma-api)
- [O que √© um Backend?](#-o-que-√©-um-backend)
- [O que √© um Banco de Dados?](#-o-que-√©-um-banco-de-dados)
- [O que √© REST?](#-o-que-√©-rest)
- [O que √© HTTP?](#-o-que-√©-http)
- [Arquitetura em Camadas](#-arquitetura-em-camadas)
- [Por que separar em camadas?](#-por-que-separar-em-camadas)
- [O que √© Entity Framework?](#-o-que-√©-entity-framework)
- [O que s√£o Migra√ß√µes?](#-o-que-s√£o-migra√ß√µes)
- [O que √© Dependency Injection?](#-o-que-√©-dependency-injection)

---

## üåê O que √© uma API?

### Analogia: O Gar√ßom do Restaurante

Imagine que voc√™ est√° em um restaurante:

- **Voc√™ (Cliente)** = Aplica√ß√£o que quer dados
- **Gar√ßom (API)** = Intermedi√°rio que leva pedidos
- **Cozinha (Backend)** = Onde os dados s√£o processados
- **Card√°pio (Documenta√ß√£o)** = Lista do que voc√™ pode pedir

### Defini√ß√£o T√©cnica

**API** = Application Programming Interface (Interface de Programa√ß√£o de Aplica√ß√µes)

- √â um **"intermedi√°rio"** entre diferentes programas
- Permite que aplica√ß√µes **"conversem"** entre si
- Define **regras** de como solicitar e receber dados

### Exemplo Pr√°tico

```bash
# Quando voc√™ faz uma requisi√ß√£o:
GET /api/todo

# A API responde com dados:
[
  {"id": "123", "descricao": "Estudar C#", "completo": false},
  {"id": "456", "descricao": "Fazer exerc√≠cios", "completo": true}
]
```

---

## üñ•Ô∏è O que √© um Backend?

### Analogia: A Cozinha do Restaurante

- **Frontend** = Sala do restaurante (onde voc√™ est√°)
- **Backend** = Cozinha (onde a comida √© preparada)
- **API** = Gar√ßom (leva pedidos da sala para a cozinha)

### Defini√ß√£o T√©cnica

**Backend** √© a parte "invis√≠vel" de uma aplica√ß√£o:

- **Processa** as requisi√ß√µes
- **Acessa** o banco de dados
- **Aplica** regras de neg√≥cio
- **Retorna** os dados processados

### O que o Backend faz na TodoAPI?

1. **Recebe** pedido: "Criar nova tarefa"
2. **Valida** os dados: "Descri√ß√£o n√£o pode estar vazia"
3. **Salva** no banco de dados
4. **Retorna** confirma√ß√£o: "Tarefa criada com sucesso"

---

## üóÑÔ∏è O que √© um Banco de Dados?

### Analogia: Um Arm√°rio Organizado

Imagine um arm√°rio com gavetas bem organizadas:

- **Arm√°rio** = Banco de dados
- **Gavetas** = Tabelas (ex: tabela de tarefas)
- **Itens nas gavetas** = Registros (ex: tarefa individual)

### Defini√ß√£o T√©cnica

**Banco de Dados** √© um sistema que:

- **Armazena** dados de forma organizada
- **Permite** buscar, adicionar, modificar e remover dados
- **Garante** que os dados n√£o se percam
- **Mant√©m** a integridade dos dados

### Exemplo: Tabela de Tarefas

| ID | Descri√ß√£o | Completo |
|----|-----------|----------|
| 1 | Estudar C# | false |
| 2 | Fazer exerc√≠cios | true |
| 3 | Ler documenta√ß√£o | false |

### Por que usar PostgreSQL?

- **Confiavel**: Dados n√£o se perdem
- **R√°pido**: Busca dados rapidamente
- **Escal√°vel**: Suporta muitos usu√°rios
- **Padr√£o**: Usado em produ√ß√£o

---

## üîó O que √© REST?

### Analogia: M√©todos de Comunica√ß√£o

Imagine diferentes formas de se comunicar:

- **GET** = "Me mostre..." (como perguntar algo)
- **POST** = "Crie para mim..." (como fazer um pedido)
- **PUT** = "Atualize..." (como pedir uma mudan√ßa)
- **DELETE** = "Remova..." (como pedir para apagar)

### Defini√ß√£o T√©cnica

**REST** = Representational State Transfer

- √â um **padr√£o** para criar APIs
- Usa **verbos HTTP** para diferentes a√ß√µes
- **Padroniza** como fazer requisi√ß√µes
- **Facilita** a comunica√ß√£o entre sistemas

### Exemplos na TodoAPI

```bash
GET    /api/todo          # Buscar todas as tarefas
GET    /api/todo/123      # Buscar tarefa espec√≠fica
POST   /api/todo          # Criar nova tarefa
PUT    /api/todo/123      # Atualizar tarefa
DELETE /api/todo/123      # Remover tarefa
```

---

## üåç O que √© HTTP?

### Analogia: Carta Postal

- **Remetente** = Cliente (aplica√ß√£o que faz pedido)
- **Destinat√°rio** = Servidor (onde est√° a API)
- **Carta** = Requisi√ß√£o HTTP
- **Resposta** = Carta de volta

### Defini√ß√£o T√©cnica

**HTTP** = HyperText Transfer Protocol

- √â o **"idioma"** da internet
- Define como **requisi√ß√µes** e **respostas** funcionam
- Usa **c√≥digos de status** para indicar resultados

### C√≥digos de Status HTTP

| C√≥digo | Significado | Quando acontece |
|--------|-------------|-----------------|
| 200 | OK | Sucesso |
| 201 | Created | Item criado |
| 400 | Bad Request | Dados inv√°lidos |
| 404 | Not Found | Item n√£o encontrado |
| 500 | Server Error | Erro no servidor |

---

## üèóÔ∏è Arquitetura em Camadas

### Analogia: Pr√©dio com Andares

Imagine um pr√©dio de 3 andares:

- **3¬∫ Andar (Presentation)** = Recep√ß√£o (onde as pessoas chegam)
- **2¬∫ Andar (Application)** = Escrit√≥rios (onde o trabalho √© feito)
- **1¬∫ Andar (Domain)** = Fundamentos (regras b√°sicas)

### As 3 Camadas da TodoAPI

#### üéØ **Domain** (Funda√ß√£o)
- **O que faz**: Define "o que √© uma tarefa"
- **Cont√©m**: Classe `Todo` com propriedades
- **N√£o depende** de nada externo

#### üîß **Application** (L√≥gica de Neg√≥cio)
- **O que faz**: Implementa as regras de neg√≥cio
- **Cont√©m**: Services e Repositories
- **Depende** apenas do Domain

#### üåê **Presentation** (Interface)
- **O que faz**: Exp√µe a API para o mundo
- **Cont√©m**: Controllers e DTOs
- **Depende** do Application

### Fluxo de Dados

```
Cliente ‚Üí Presentation ‚Üí Application ‚Üí Domain
                   ‚Üì
Cliente ‚Üê Presentation ‚Üê Application ‚Üê Domain
```

---

## ‚ùì Por que separar em camadas?

### Analogia: Organiza√ß√£o de uma Empresa

Imagine uma empresa bem organizada:

- **Departamento Comercial** = Presentation (atende clientes)
- **Departamento de Produ√ß√£o** = Application (faz o trabalho)
- **Regulamenta√ß√µes** = Domain (regras que todos seguem)

### Benef√≠cios da Separa√ß√£o

#### üéØ **Manutenibilidade**
- Cada camada tem **responsabilidade espec√≠fica**
- Mudan√ßas em uma camada **n√£o afetam** as outras
- **F√°cil** de encontrar e corrigir problemas

#### üîÑ **Reutiliza√ß√£o**
- **Domain** pode ser usado em outras aplica√ß√µes
- **Application** pode ter diferentes interfaces (API, Console, etc.)
- **C√≥digo** n√£o √© duplicado

#### üß™ **Testabilidade**
- Cada camada pode ser **testada isoladamente**
- **Mocks** podem substituir depend√™ncias
- **Testes** s√£o mais r√°pidos e confi√°veis

#### üë• **Trabalho em Equipe**
- Diferentes pessoas podem trabalhar em **camadas diferentes**
- **Conflitos** de c√≥digo s√£o reduzidos
- **Especializa√ß√£o** por √°rea

---

## üîß O que √© Entity Framework?

### Analogia: Tradutor Autom√°tico

Imagine um tradutor que:

- **Entende** tanto portugu√™s quanto ingl√™s
- **Converte** automaticamente entre os dois idiomas
- **N√£o precisa** que voc√™ saiba ingl√™s

### Defini√ß√£o T√©cnica

**Entity Framework** √© um **ORM** (Object-Relational Mapping):

- **Converte** objetos C# em tabelas de banco
- **Converte** dados do banco em objetos C#
- **Automatiza** opera√ß√µes de banco de dados
- **Elimina** a necessidade de escrever SQL

### Exemplo Pr√°tico

#### Sem Entity Framework (SQL puro):
```sql
INSERT INTO Todos (Id, Descricao, Completo) 
VALUES ('123', 'Estudar C#', false);
```

#### Com Entity Framework:
```csharp
var todo = new Todo { Descricao = "Estudar C#", Completo = false };
await _context.Todos.AddAsync(todo);
await _context.SaveChangesAsync();
```

### Vantagens do Entity Framework

- ‚úÖ **Menos c√≥digo**: N√£o precisa escrever SQL
- ‚úÖ **Tipagem forte**: Erros detectados em tempo de compila√ß√£o
- ‚úÖ **Portabilidade**: Funciona com diferentes bancos
- ‚úÖ **Produtividade**: Desenvolvimento mais r√°pido

---

## üöÄ O que s√£o Migra√ß√µes?

### Analogia: Planta de uma Casa

Imagine que voc√™ quer **modificar sua casa**:

1. **Planta atual** = Estrutura atual do banco
2. **Planta nova** = Estrutura desejada do banco
3. **Reforma** = Migra√ß√£o (mudan√ßas necess√°rias)
4. **Resultado** = Casa reformada

### Defini√ß√£o T√©cnica

**Migra√ß√£o** √© um arquivo que:

- **Descreve** mudan√ßas na estrutura do banco
- **Permite** aplicar mudan√ßas de forma controlada
- **Mant√©m** hist√≥rico de todas as altera√ß√µes
- **Facilita** atualiza√ß√µes em diferentes ambientes

### Exemplo: Migra√ß√£o para adicionar campo

#### Antes (estrutura atual):
```sql
CREATE TABLE Todos (
    Id uuid PRIMARY KEY,
    Descricao varchar(500)
);
```

#### Depois (nova estrutura):
```sql
CREATE TABLE Todos (
    Id uuid PRIMARY KEY,
    Descricao varchar(500),
    Completo boolean DEFAULT false  -- NOVO CAMPO
);
```

#### Migra√ß√£o gerada:
```csharp
public partial class AddCompletoField : Migration
{
    protected override void Up(MigrationBuilder migrationBuilder)
    {
        migrationBuilder.AddColumn<bool>(
            name: "Completo",
            table: "Todos",
            defaultValue: false);
    }
}
```

### Comandos de Migra√ß√£o

```bash
# Criar nova migra√ß√£o
dotnet ef migrations add NomeDaMigracao

# Aplicar migra√ß√µes
dotnet ef database update

# Ver hist√≥rico
dotnet ef migrations list
```

---

## üíâ O que √© Dependency Injection?

### Analogia: Loja de Ferramentas

Imagine que voc√™ √© um mec√¢nico:

- **Voc√™** n√£o fabrica suas pr√≥prias ferramentas
- **Loja** fornece as ferramentas que voc√™ precisa
- **Voc√™** s√≥ precisa saber como usar, n√£o como fazer

### Defini√ß√£o T√©cnica

**Dependency Injection** (DI) √© um padr√£o que:

- **Fornece** depend√™ncias automaticamente
- **Evita** criar objetos manualmente
- **Facilita** testes e manuten√ß√£o
- **Desacopla** classes

### Exemplo Pr√°tico

#### Sem DI (problema):
```csharp
public class TodoService
{
    public TodoService()
    {
        // Cria depend√™ncia diretamente (ruim!)
        var repository = new TodoDbRepository();
    }
}
```

#### Com DI (solu√ß√£o):
```csharp
public class TodoService
{
    private readonly IBaseRepository<Todo> _repository;
    
    // DI injeta a depend√™ncia automaticamente
    public TodoService(IBaseRepository<Todo> repository)
    {
        _repository = repository;
    }
}
```

#### Configura√ß√£o no Program.cs:
```csharp
// Registra as depend√™ncias
builder.Services.AddScoped<IBaseRepository<Todo>, TodoDbRepository>();
builder.Services.AddScoped<ITodoService, TodoService>();
```

### Benef√≠cios do DI

- ‚úÖ **Testabilidade**: F√°cil criar mocks
- ‚úÖ **Flexibilidade**: Trocar implementa√ß√µes facilmente
- ‚úÖ **Manutenibilidade**: C√≥digo mais limpo
- ‚úÖ **Reutiliza√ß√£o**: Depend√™ncias compartilhadas

---

## üéì Resumo dos Conceitos

### O que voc√™ precisa saber:

1. **API** = Intermedi√°rio entre aplica√ß√µes
2. **Backend** = Parte que processa dados
3. **Banco de Dados** = Armazena dados organizadamente
4. **REST** = Padr√£o para criar APIs
5. **HTTP** = Protocolo de comunica√ß√£o da internet
6. **Camadas** = Organiza√ß√£o do c√≥digo por responsabilidade
7. **Entity Framework** = Ferramenta que facilita acesso ao banco
8. **Migra√ß√µes** = Controle de mudan√ßas no banco
9. **Dependency Injection** = Fornece depend√™ncias automaticamente

### Por que esses conceitos s√£o importantes?

- **Entender o contexto** ajuda a n√£o apenas copiar c√≥digo
- **Saber o "porqu√™"** facilita a resolu√ß√£o de problemas
- **Conceitos claros** permitem evoluir a aplica√ß√£o
- **Base s√≥lida** prepara para conceitos mais avan√ßados

---

## üöÄ Pr√≥ximo Passo

Agora que voc√™ entende os conceitos b√°sicos, est√° pronto para seguir o [tutorial principal](README.md)!

**Lembre-se**: Se algo n√£o ficar claro durante o tutorial, volte aqui para relembrar os conceitos fundamentais.

---

**üí° Dica**: Mantenha este arquivo aberto enquanto segue o tutorial. Ele servir√° como seu "dicion√°rio" de conceitos!
